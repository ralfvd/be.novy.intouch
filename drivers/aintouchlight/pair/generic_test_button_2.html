<script>
var options = {
	template: '../../drivers/lib/pair/test_button.html',
	id: 'generic_test_button_2',
	next: 'generic_done',
	initWithDeviceData: true,
	sendToggleOnInit: false,
	svg: '<?xml version="1.0" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN"\n "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">\n<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n width="300.000000pt" height="300.000000pt" viewBox="0 0 300.000000 300.000000"\n preserveAspectRatio="xMidYMid meet">\n<metadata>\nCreated by potrace 1.10, written by Peter Selinger 2001-2011\n</metadata>\n<g transform="translate(0.000000,300.000000) scale(0.100000,-0.100000)"\nfill="#000000" stroke="none">\n<path d="M721 2869 c-118 -23 -207 -73 -260 -145 l-29 -39 -3 -1112 c-3 -929\n-2 -1114 10 -1125 11 -11 12 -10 7 7 -8 28 -7 3 -7 1153 1 1108 0 1076 47\n1127 34 37 76 65 88 58 6 -3 8 -2 3 2 -11 12 44 33 145 55 83 19 128 20 803\n19 394 -1 719 1 722 5 10 9 -1476 5 -1526 -5z"/>\n<path d="M2273 2863 c9 -2 25 -2 35 0 9 3 1 5 -18 5 -19 0 -27 -2 -17 -5z"/>\n<path d="M2358 2853 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/>\n<path d="M1030 2680 c-124 -15 -214 -57 -255 -118 l-25 -37 0 -965 c0 -1093\n-7 -1007 83 -1067 91 -61 117 -65 507 -74 450 -11 710 -1 794 31 65 25 128 76\n145 118 7 18 14 335 20 977 9 911 8 952 -9 992 -33 75 -137 126 -290 142 -108\n11 -883 11 -970 1z m1085 -49 c79 -29 131 -64 151 -103 15 -29 16 -68 11 -378\n-3 -190 -8 -613 -11 -940 -3 -327 -7 -606 -10 -620 -14 -63 -78 -106 -201\n-135 -49 -11 -149 -13 -532 -10 -290 2 -495 8 -534 15 -73 13 -144 44 -163 71\n-7 10 -15 16 -18 13 -3 -3 -12 12 -19 33 -11 30 -14 219 -14 918 -1 484 1 916\n5 961 8 90 19 110 87 150 82 49 135 53 683 50 489 -3 507 -4 565 -25z"/>\n<path d="M1489 2533 c-4 -28 -3 -39 6 -45 15 -11 58 -9 75 3 11 8 4 9 -27 5\n-38 -6 -43 -4 -43 14 0 23 37 28 70 10 16 -8 18 -8 14 5 -4 10 -20 15 -50 15\n-24 0 -45 -3 -45 -7z"/>\n<path d="M1450 2490 c0 -10 79 -50 83 -42 3 4 -15 16 -39 28 -24 12 -44 18\n-44 14z"/>\n<path d="M1595 2489 c-4 -6 -17 -14 -29 -19 l-21 -9 22 0 c13 -1 27 8 33 19\n11 21 6 28 -5 9z"/>\n<path d="M1568 2383 c10 -4 10 -8 1 -19 -7 -8 -7 -14 -1 -14 5 0 13 7 16 16 9\n23 8 24 -11 23 -12 0 -13 -2 -5 -6z"/>\n<path d="M1405 2359 c-4 -6 -5 -12 -2 -15 2 -3 7 2 10 11 7 17 1 20 -8 4z"/>\n<path d="M1625 2361 c-3 -5 2 -11 10 -15 8 -3 17 -1 20 3 3 5 -2 11 -10 15 -8\n3 -17 1 -20 -3z"/>\n<path d="M1438 2353 c6 -2 10 -9 6 -14 -3 -5 2 -9 10 -9 9 0 16 4 16 9 0 9\n-25 22 -38 20 -4 0 -1 -3 6 -6z"/>\n<path d="M1539 2331 c13 -3 27 -15 31 -26 4 -13 9 -15 14 -7 10 17 -18 42 -46\n41 l-23 -1 24 -7z"/>\n<path d="M1405 2310 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0\n-8 -4 -11 -10z"/>\n<path d="M1618 2313 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/>\n<path d="M1656 2312 c-3 -5 1 -9 9 -9 8 0 15 4 15 9 0 4 -4 8 -9 8 -6 0 -12\n-4 -15 -8z"/>\n<path d="M1480 2301 c0 -5 5 -13 10 -16 6 -3 10 -2 10 4 0 5 -4 13 -10 16 -5\n3 -10 2 -10 -4z"/>\n<path d="M1440 2279 c0 -6 -7 -9 -15 -5 -8 3 -15 1 -15 -4 0 -11 11 -13 34 -4\n18 7 22 24 6 24 -5 0 -10 -5 -10 -11z"/>\n<path d="M1614 2276 c20 -11 33 -13 40 -6 7 7 5 10 -4 10 -8 0 -26 3 -40 6\n-23 5 -23 5 4 -10z"/>\n<path d="M1500 2262 c0 -7 -8 -12 -17 -12 -15 0 -16 -2 -3 -10 10 -6 17 -4 23\n6 5 9 6 18 3 21 -3 4 -6 1 -6 -5z"/>\n<path d="M1550 2256 c0 -9 7 -16 16 -16 17 0 14 22 -4 28 -7 2 -12 -3 -12 -12z"/>\n<path d="M1500 1986 c0 -2 9 -6 20 -9 11 -3 20 -1 20 4 0 5 -9 9 -20 9 -11 0\n-20 -2 -20 -4z"/>\n<path d="M1520 1951 c0 -5 5 -13 10 -16 6 -3 10 -2 10 4 0 5 -4 13 -10 16 -5\n3 -10 2 -10 -4z"/>\n<path d="M1402 1928 c3 -7 12 -14 22 -14 14 -2 14 -1 -1 3 -16 5 -16 6 2 14\n19 7 18 8 -3 8 -15 1 -22 -4 -20 -11z"/>\n<path d="M1458 1933 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/>\n<path d="M1606 1928 c3 -4 9 -8 15 -8 5 0 9 4 9 8 0 5 -7 9 -15 9 -8 0 -12 -4\n-9 -9z"/>\n<path d="M1529 1918 c-5 -17 -4 -48 3 -48 4 0 8 11 8 25 0 20 -7 34 -11 23z"/>\n<path d="M1585 1540 c-17 -8 -16 -8 8 -7 15 1 27 5 27 9 0 10 -9 9 -35 -2z"/>\n<path d="M1418 1533 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/>\n<path d="M1496 1211 c-3 -5 1 -11 9 -15 9 -3 15 0 15 9 0 16 -16 20 -24 6z"/>\n<path d="M1440 1196 c0 -2 7 -6 15 -10 8 -3 15 -1 15 4 0 6 -7 10 -15 10 -8 0\n-15 -2 -15 -4z"/>\n<path d="M1562 1173 c23 -24 23 -25 4 -39 -11 -8 -29 -14 -40 -15 -12 0 -15\n-3 -8 -6 18 -7 69 16 77 34 7 19 -18 50 -40 50 -12 0 -10 -6 7 -24z"/>\n<path d="M1414 1150 c1 -8 11 -16 23 -16 13 -1 20 2 17 7 -2 4 -11 6 -18 3 -8\n-3 -16 0 -19 8 -3 9 -4 8 -3 -2z"/>\n<path d="M1413 785 c-3 -9 -3 -18 -1 -21 3 -3 8 4 11 16 6 23 -1 27 -10 5z"/>\n<path d="M1637 760 c-9 -11 -13 -20 -8 -20 11 0 35 29 29 35 -2 2 -12 -4 -21\n-15z"/>\n<path d="M1801 764 c0 -11 3 -14 6 -6 3 7 2 16 -1 19 -3 4 -6 -2 -5 -13z"/>\n<path d="M1216 753 c-6 -14 -5 -15 5 -6 7 7 10 15 7 18 -3 3 -9 -2 -12 -12z"/>\n<path d="M1495 760 c-3 -5 -1 -10 4 -10 6 0 11 5 11 10 0 6 -2 10 -4 10 -3 0\n-8 -4 -11 -10z"/>\n<path d="M313 421 c-45 -3 -85 -9 -89 -13 -7 -7 101 -3 178 7 20 3 39 0 41 -5\n3 -6 4 -5 3 2 -3 15 -25 17 -133 9z"/>\n<path d="M178 403 c7 -3 16 -2 19 1 4 3 -2 6 -13 5 -11 0 -14 -3 -6 -6z"/>\n<path d="M108 393 c6 -2 18 -2 25 0 6 3 1 5 -13 5 -14 0 -19 -2 -12 -5z"/>\n<path d="M485 360 c3 -5 11 -10 16 -10 6 0 7 5 4 10 -3 6 -11 10 -16 10 -6 0\n-7 -4 -4 -10z"/>\n<path d="M515 340 c-3 -5 1 -10 10 -10 9 0 13 5 10 10 -3 6 -8 10 -10 10 -2 0\n-7 -4 -10 -10z"/>\n<path d="M555 320 c5 -9 97 -40 118 -40 18 0 -3 14 -26 17 -12 2 -39 10 -60\n18 -21 9 -36 11 -32 5z"/>\n<path d="M708 269 c11 -12 147 -15 805 -17 435 -2 790 -1 787 1 -3 2 -351 7\n-774 11 -423 4 -783 10 -800 13 -26 5 -29 3 -18 -8z"/>\n</g>\n</svg>\n',
	title: 'Test the lights',
	body: 'Press the test button ; your lights should toggle on/off',
	svgWidth: '80vw',
	svgHeight: '70vh',
	previous: true,
	buttonLabel: 'test'
};
Homey.setTitle(__(options.title || ''));
Homey.emit('init', options.id);
Homey.on('show_view', function(viewId){
	Homey.showView(viewId);
});
Homey.on('close', function(){
	Homey.close();
});
Homey.on('nextView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) + 1;
	if(viewIndex > 0 && viewIndex < viewsIds.length){
		Homey.showView(viewsIds[viewIndex]);
	}
});
Homey.on('previousView', function(viewsIds){
	var viewIndex = viewsIds.indexOf(options.id) - 1;
	if(viewIndex >= 0){
		Homey.showView(viewsIds[viewIndex]);
	}
});
function nextView(){
	if(options.next){
		Homey.nextView();
	}else{
		Homey.emit('next');
	}
}
</script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<link href="../../../assets/433_generator/css/styles.css" rel="stylesheet" type="text/css"/>

<link href="../../../assets/433_generator/css/svg.css" rel="stylesheet" type="text/css"/>

<script src="../../../assets/433_generator/js/svghighlighter.js" type="text/javascript"></script>

<div class="centered-container">
	<div id="image-container" class="toggle-pulse"></div>
	<div id="button-container">
		<button id="test_button" class="button"></button>
	</div>
	<div id="body"><span class="content"></span></div>
</div>

<script>
	var idPrefix = '[data-id="' + options.id + '"] ';
	$(idPrefix + '#body > span').html(__(options.body));
	var $imageContainer = $(idPrefix + '#image-container');
	$imageContainer.css('width', options.svgWidth).css('height', options.svgHeight);
	var $testButton = $(idPrefix + '#test_button');

	$imageContainer.html(options.svg);
	$testButton.html(__(options.buttonLabel));
	Homey.emit('test', function (err, device) {
		if (err) {
			Homey.alert(__(err.message || err));
			return;
		}

		$testButton.on('click', () => Homey.emit('toggle'));
		$imageContainer.highlight(device, options.initWithDeviceData ? device.data : false);
		if (options.sendToggleOnInit) {
			Homey.emit('toggle');
		}
	});
</script>